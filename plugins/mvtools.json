{
	"name": "MVTools",
	"type": "VSPlugin",
	"description": "MVTools port",
	"website": "https://github.com/dubhater/vapoursynth-mvtools",
	"identifier": "com.nodame.mvtools",
	"vsrepo": "mv.json",
	"runtime_dependencies": [
		{
			"name": "fftw3",
			"version": "3.3.10",
			"source": "https://www.fftw.org/fftw-3.3.10.tar.gz",
			"hash": "56c932549852cddcfafdab3820b0200c7742675be92179e59e6215b340e26467",
			"build": {
				".*": {
					"commands": [
						{ "cmd": ["tar", "xzf", "fftw-3.3.10.tar.gz"] },
						{ "env": { "CFLAGS": "-fPIC" }, "cwd": "fftw-3.3.10", "cmd": ["./configure", "--prefix={WORKSPACEDIR}", "--enable-static", "--disable-shared", "--enable-single"] },
						{ "cwd": "fftw-3.3.10", "cmd": ["make", "-j{NPROC}"] },
						{ "cwd": "fftw-3.3.10", "cmd": ["make", "install"] }
					]
				}
			}
		}
	],
	"file_definitions": {
		"mvtools-test.vpy": {
			"path": "{TESTDIR}",
			"encoding": "text/utf-8",
			"data": "import vapoursynth as vs\ncore = vs.core\ncore.std.LoadPlugin('{TESTDIR}/{PLUGIN_FILENAME}')\nc = core.std.BlankClip(format=vs.YUV420P8,width=320,height=240,length=10)\ncore.mv.Super(c,pel=2,sharp=1,levels=1)\nc.set_output(0)\n"
		}
	},
	"tests": [
		{
			"name" : "super-test",
			"create_files" : ["mvtools-test.vpy"],
			"commands": [
				{ "cwd": "{TESTDIR}", "cmd": ["{VSPIPE}", "mvtools-test.vpy", "--"] }
			]
		}
	],
	"releases": [
		{
			"version": "a81d5b5",
			"published": "2024-07-21T16:09:17Z",
			"source": "https://github.com/dubhater/vapoursynth-mvtools/archive/a81d5b5d3fe4cc9a167ca15daf34485966686bc8.tar.gz",
			"hash": "f2dcff8078ba0bff3fbfdcab120f368fcd2c25b16e82ee8c7ee1eddd215aaa13",
			"filename": "vapoursynth-mvtools-a81d5b5d3fe4cc9a167ca15daf34485966686bc8.tar.gz",
			"buildtools_dependencies": {
				".*": [
					{
						"name": "meson",
						"version": [">=", "0.60.0"]
					},
					{
						"name": "ninja",
						"version": [">=", "1.10.0"]
					}
				],
				".*-x86_64.*": [
					{
						"name": "nasm",
						"version": [">=", "2.12"]
					}
				]
			},
			"build": {
				".*": {
					"dependencies": [
						{
							"name": "fftw3",
							"version": "3.3.10"
						}
					],
					"commands": [
						{ "cmd": ["tar", "xzf", "vapoursynth-mvtools-a81d5b5d3fe4cc9a167ca15daf34485966686bc8.tar.gz"] },
						{ "cwd": "vapoursynth-mvtools-a81d5b5d3fe4cc9a167ca15daf34485966686bc8", "cmd": ["meson", "setup", "--prefix={WORKSPACEDIR}", "--libdir={WORKSPACEDIR}/lib", "build"] },
						{ "cwd": "vapoursynth-mvtools-a81d5b5d3fe4cc9a167ca15daf34485966686bc8", "cmd": ["ninja", "-C", "build"] },
						{ "cwd": "vapoursynth-mvtools-a81d5b5d3fe4cc9a167ca15daf34485966686bc8", "cmd": ["ninja", "-C", "build", "install"] }
					]
				}
			},
			"release_files": {
				"linux-.*": ["{WORKSPACEDIR}/lib/libmvtools.so"],
				"darwin-.*": ["{WORKSPACEDIR}/lib/libmvtools.dylib"]
			},
			"additional_files": {
				".*": ["{BUILDDIR}/vapoursynth-mvtools-a81d5b5d3fe4cc9a167ca15daf34485966686bc8/readme.rst"]
			},
			"tests": {
				".*": ["super-test"]
			}
		}
	]
}
