{
	"name": "ZNEDI3",
	"type": "VSPlugin",
	"description": "Alternate optimized version of NNEDI3",
	"identifier": "xxx.abc.znedi3",
	"github": "https://github.com/sekrit-twc/znedi3",
	"file_definitions": {
		"test-filter-0.vpy": {
			"path": "{TESTDIR}",
			"encoding": "text/utf-8",
			"data": "import vapoursynth as vs\ncore = vs.core\ncore.std.LoadPlugin('{TESTDIR}/{PLUGIN_FILENAME}')\nc = core.std.BlankClip(format=vs.YUV420P8,width=320,height=240,length=10)\nc = core.znedi3.nnedi3(c,field=0)\nc.set_output(0)\n"
		}
	},
	"tests": [
		{
			"name": "test-filter-0",
			"create_files": [
				"test-filter-0.vpy"
			],
			"commands": [
				{ "cmd": [ "cp", "{BUILDDIR}/{DL_DIRECTORY}/nnedi3_weights.bin", "{TESTDIR}/nnedi3_weights.bin" ] },
				{
					"cwd": "{TESTDIR}",
					"cmd": [
						"{VSPIPE}",
						"test-filter-0.vpy",
						"--"
					]
				}
			]
		}
	],
	"releases": [
		{
			"version": "3bd542a",
			"published": "2024-10-10T01:45:11Z",
			"source": "https://github.com/Stefan-Olt/znedi3/archive/3bd542a396371b1af404c8a51df144957419909c.tar.gz",
			"hash": "b2447b6f7a74407b71b28df8ae57bb9c7572c81a4f7136fd94dd690847832325",
			"filename": "znedi3-3bd542a396371b1af404c8a51df144957419909c.tar.gz",
			"additional_files": {
				".*": [
					"{BUILDDIR}/{DL_DIRECTORY}/readme.rst"
				]
			},
			"build": {
				".*": {
					"commands": [
						{
							"cmd": [
								"tar",
								"xzf",
								"{DL_FILENAME}"
							]
						},
						{
							"cwd": "{DL_DIRECTORY}",
							"cmd": [
								"rm",
								"-rf",
								"graphengine"
							]
						},
						{
							"cwd": "{DL_DIRECTORY}",
							"cmd": [
								"wget",
								"-O",
								"graphengine-509c1c3a9a3561945a1acd3b9bb1219763fe7c57.tar.gz",
								"https://github.com/sekrit-twc/graphengine/archive/509c1c3a9a3561945a1acd3b9bb1219763fe7c57.tar.gz"
							]
						},
						{
							"cwd": "{DL_DIRECTORY}",
							"cmd": [
								"tar",
								"xzf",
								"graphengine-509c1c3a9a3561945a1acd3b9bb1219763fe7c57.tar.gz"
							]
						},
						{
							"cwd": "{DL_DIRECTORY}",
							"cmd": [
								"mv",
								"graphengine-509c1c3a9a3561945a1acd3b9bb1219763fe7c57",
								"graphengine"
							]
						},
						{
							"cwd": "{DL_DIRECTORY}",
							"cmd": [
								"rm",
								"-rf",
								"vsxx"
							]
						},
						{
							"cwd": "{DL_DIRECTORY}",
							"cmd": [
								"wget",
								"-O",
								"vsxx-de38f0e128c85782494ae00565698a2b25e87869.tar.gz",
								"https://github.com/sekrit-twc/vsxx/archive/de38f0e128c85782494ae00565698a2b25e87869.tar.gz"
							]
						},
						{
							"cwd": "{DL_DIRECTORY}",
							"cmd": [
								"tar",
								"xzf",
								"vsxx-de38f0e128c85782494ae00565698a2b25e87869.tar.gz"
							]
						},
						{
							"cwd": "{DL_DIRECTORY}",
							"cmd": [
								"mv",
								"vsxx-de38f0e128c85782494ae00565698a2b25e87869",
								"vsxx"
							]
						},
						{
							"cwd": "{DL_DIRECTORY}",
							"cmd": [
								"meson",
								"setup",
								"--prefix={WORKSPACEDIR}",
								"--libdir={WORKSPACEDIR}/lib",
								"build"
							]
						},
						{
							"cwd": "{DL_DIRECTORY}",
							"cmd": [
								"ninja",
								"-C",
								"build"
							]
						},
						{
							"cwd": "{DL_DIRECTORY}",
							"cmd": [
								"ninja",
								"-C",
								"build",
								"install"
							]
						}
					],
					"dependencies": []
				}
			},
			"buildtools_dependencies": {
				".*": [
					{
						"name": "meson",
						"version": [
							">=",
							"0.60.0"
						]
					},
					{
						"name": "ninja",
						"version": [
							">=",
							"1.10.0"
						]
					}
				]
			},
			"release_files": {
				"linux-.*": [
					"{WORKSPACEDIR}/lib/libvsznedi3.so"
				],
				"darwin-.*": [
					"{WORKSPACEDIR}/lib/libvsznedi3.dylib"
				]
			},
			"tests": {
				".*": [
					"test-filter-0"
				]
			}
		}
	]
}
